대본



저희 조는 CNN 기반 Yolov5 모델로 식물 및 식물병을 인식하고, 사용자에게 반려식물 관리 정보를 제공하는 서비스인 플랜트 닥터 반응형 웹을 개발하였습니다.



구성원 및 역할은 다음과 같습니다.

목차는 다음과 같습니다.



—-—- Part 1. 프로젝트 기획 배경 및 목표 —-—-

5p

 코로나 19로 인해 반려식물 키우기가 인기 취미로 떠오르고 있고, 홈가드닝과 같이 관련 사업 매출이 내년에는 5000억원까지 증가하는 것을 전망하고 있습니다.

 

6p 소비자의 니즈

 더불어 10명 중 7명이 경험 했을 정도로 ‘코로나 우울증’을 많은 사람들이 겪고 있는데 

우울감, 활력 증가에 큰 도움을 주는 반려식물의 효과로 인해 반려식물에 대한 관심이 증가하고 있습니다. 

 반려식물에 대한 관심도는 LG틔운, 교원등 가정용 식물 재배기의 인기를 통해 확인할 수 있었습니다. 



7p 시장조사 

 국내 앱의 기능과 만족도 분석을 위해 PlantFit, PictureThis, PlantSnap 서비스를 직접 사용해 보았습니다.

세가지 서비스 모두 공통적으로 식물의 사진을 찍어 유사도를 판별하고, 식물 정보 조회가 가능하도록 기능이 구현 되어 있었습니다.

 각 서비스의 차별점으로는 PlantFit에서는 식물 구매와 물주기 기능 등 식물 관리의 전반적인 플랫폼을 제공하였고, PictureThis 서비스는 전문가의 조언을 받을 수 있는 기능이 있었습니다. PlantSnap 서비스는 반려식물 키우는 사람들끼리 커뮤니티를 할 수 있도록 한 기능이 있었습니다.



8p 유사 서비스의 문제점

 하지만, 기존 앱들은 ‘구성이 복잡하고 직관적이지 않다, 인식 성능이 좋지 않다, 유료 서비스라서 실망했다, 앱을 사용하는데 불편함을 많이 느끼고 있다’ 는 리뷰가 다수였습니다. 



 그래서 저희는 누구나 사용할 수 있도록 구성의 복잡함을 줄이고, 비회원도 다양한 기능을 체험 해 볼 수 있도록 하며, 리뷰를 꼼꼼하게 검토하여 앱의 사업성을 위한 기능도 추가로 도입할 수 있는 플랜트 닥터 서비스를 개발하기로 했습니다. 



9p 프로젝트 목표 

 기존의 서비스의 문제점 개선과 식물을 관리할 수 있는 플랫폼의 가치를 제공하기 위해 4가지의 목표를 가지고 진행하였습니다.

 첫번째, 식물 사진을 통해 어떤 식물인지를 인식하고 예측된 식물을 키우는 데에 필요한 정보 제공하고자 합니다. 두번째, 병해가 의심되는 식물을 인식하여 식물병을 예측하고, 예방법 정보를 제공하고자 합니다. 세번째, 반려식물 등록 기능을 통해 식물의 종류에 따라 물주는 주기, 광도 등 맞춤형 관리 서비스를 제공하고 합니다. 마지막으로 사용자의 위치 정보를 받아 해당 지역의 자외선 지수나 습도 등에 따른 관련 정보를 제공함으로써 반려식물을 손쉽게 관리할 수 있도록 구현하고자 하였습니다.



—-—- Part 2. 서비스 소개 —-—-

다음은 서비스 소개입니다.



11p

 저희의 Plant Doctor 서비스는 YOLOv5 모델을 활용하여 식물 및 식물병 인식 모델을 제공하고, 사용자들이 반려식물을 손쉽게 관리할 수 있도록, 식물 건강에 영향을 주는 정보를 제공하는 서비스입니다. 

반려식물을 처음 키우는 사람도 흥미롭게 이용할 수 있는 서비스로 (12p 넘기면서) 반려식물을 키우는 사람을 타겟으로 프로젝트를 진행하였습니다. 



13p

 서비스 흐름도



14p

 시스템 아키텍처



—-—-—-part3. 데이터 엔지니어링 —-—-—-

**16p** 

 데이터 수집에 대한 내용입니다. 

 식물 인식에 사용 되는 데이터는 오늘의 집, 쿠팡, 11번가, 옥션 4가지 사이트에서 ‘실내 식물’을 검색 했을 때, 공통적으로 가장 많이 판매되는 식물 16가지로 선정하였습니다. 

 식물병 인식에 사용 되는 데이터는 흰가루병, 노균병, 정상으로 총 25087개의 데이터를 AIhub에서 이미지 및 라벨링 데이터를 수집했습니다. 병해 선정 기준은 방금 전 식물 인식 16가지의 식물에서 가장 많이 걸리는 식물병 2가지로 선정하였습니다. 



식물 인식에 사용 되는 이미지 전처리는 ~ 로 진행하였고, 식물병 인식에 사용되는 이미지는 노균병, 흰가루병, 정상에 해당하는 이미지 위주로 사용 할 수 있도록 전처리 하였습니다.



**17p**

 다음은 위치 정보와, 날씨, 자외선 지수, 식물 검색에 사용 되는 데이터의 수집 정보 입니다. 

위치 정보는 geolocation 기술로 사용자의 현재 위치를 확인 한 후, kakao api 요청해서 주소를 받아왔습니다. 

온도, 습도, 날씨, 시간별 기온, 자외선 지수 정보는 기상청 단기예보 조회 서비스 사이트에서 수집 하였습니다. 



 식물 검색에 사용 된 식물은 약 255가지이고, 식물인식 선정 기준 사이트에서 플립 사이트를 추가하여 선정하였습니다. 식물에 대한 설명, 물주기, 햇빛, 온도, 습도에 관한 정보는 플립 사이트 크롤링하여 관련 정보 오타 수정을 해 주었습니다. 





18p

플랜트 닥터 서비스의 ERD는 다음과 같습니다. 



—-—-—-part4. 딥러닝 모델 구현 —-—-—-

**## 핖티 딥러닝 모델 간단한 설명 (이미지넷 데이터로 성능 비교) 내용 추가하면 좋을거같음**

 

다음은 식물인식과 식물병 인식에 사용 한 딥러닝 모델에 대해 설명하도록 하겠습니다.



20p

전체적인 분석 모형입니다.

사용자 식물 이미지와 병해 이미지를 32 배수 형태의 사이즈로 YOLOv5 모델에 input으로 들어갈 수 있게 설정한 후, Yolov5s 모델에 데이터를 학습 합니다. 인식 결과 mAP 퍼센트와 클래스 이름이 나오게 되는 것을 확인할 수 있습니다.



21p

 식물 인식 모델을 구현 할 때, CNN 기반 모델 중 가장 접근성이 좋은 ResNet50, Vgg16, yolov5 모델의 성능을 비교하여 93%로 가장 높은 성능을 보인 yolov5을 베이스라인 모델로 선정했습니다. 이 후 각 모델을 성능 개선하며 테스트 해 보았을 때도, Yolov5 모델이 성능이 가장 높게 나와서 yolov5 모델을 최종으로 사용하였습니다. 



22p

 Yolov5 모델을 사용할 때, 식물 이미지는 크롤링 한 데이터로 Annotation 라벨링 데이터의 부재의 이슈가 있었습니다. 원래는 라벨링 생성 프로그램에서 직접 바운딩 박스를 그려줘야했지만 시간이 많이 소요될 거 같아서 사용자가 식물을 화면 가운데에서 찍는다는 시나리오를 가정하여 임의로 바운딩 박스 좌표를 만들어줬습니다. 

 

23p

 Yolov5 모델로 에포크와 배치사이즈를 변화시키고, 식물의 종 수를 늘려서 테스트를 해 보았습니다. 그 결과, 베이스라인 모델 학습 결과인 94% 보다 식물 16가지로 학습시킨 모델이 96%로 더 좋은 성능을 가진것을 알 수 있었고, 최종 모델로 mAP가 96%인 모델로 선정하였습니다. 



24p

 모델 학습 결과를 PR 곡선 그래프와 재현율, 정밀도, mAP, f1 score 그래프로 확인해보았습니다. 

( 정리 필요 )



25p

 다음은 식물병 인식 모델링에 대한 설명입니다. 식물인식 모델링과 동일한 방식으로 CNN 기반 모델 중 가장 접근성이 좋은 ResNet50, Vgg16, yolov5 모델의 성능을 비교하여 96%로 가장 높은 성능을 보인 yolov5를 베이스라인 모델로 선정했습니다. 이 후 각 모델을 성능 개선하며 테스트 해 보았을 때도, Yolov5 모델이 성능이 가장 높게 나와서 yolov5 모델을 최종으로 사용하였습니다.



26p

 식물병 인식에서는 Aihub에 있는 노지작물 질병진단 데이터로 모델링을 진행하였는데, 이미지와 라벨 데이터 파일명이 모두 분류코드로 구성 되어 있었습니다. 그래서 작물코드와 질병코드는 흰가루병, 노균병 분류코드로 파일을 구분하였고, 병해가 잘 보이는 잎부분만 촬영한 분류코드로 파일을 다시 구분해 주었습니다. 



27p 

 흰가루병, 노균병, 정상 파일을 분류한 후에, AIhub에 업로드 되어 있는 json 파일의 값을 추출하여 Yolov5 모델의 라벨 데이터 형식으로 데이터를 변환하여 파일을 다시 저장 해 주었습니다.



28p 

 Yolov5 모델을 배치사이즈와 에포크 수를 변경하면서 mAP@.5 값을 확인 해 본 결과, 배치사이즈 64, 에포크 50으로 두었을 때, mAP 0.948로 가장 좋은 성능을 보이는 것을 알 수 있었고, 해당 모델을 최종모델로 선정하게 되었습니다. 



29p

 모델 학습 결과를 PR 곡선 그래프와 재현율, 정밀도, mAP, f1 score 그래프로 확인해보았습니다. 

( 정리 필요 )



—-—-—-part5. 서비스 구현 —-—-—--—--—--—-

31p ~ 34p 서비스 기능 시연



—-—-—-part6. 사업화 및 기대효과 —-—-—--—-

다음으로는 플랜트 닥터 서비스의 사업화 및 기대효과입니다.



37p

 저희 서비스를 통해 사업화를 생각해보았을 때, 

 일정 이상 식물 추가를 할 경우, 프리미엄으로 업그레이드를 하지 않을 경우 더 이상 추가 할 수 없도록 하는 프리미엄 기능과

 식물 또는 관련된 제품을 구매할 수 있도록 식물 구매 기능을 추가한다면 서비스를 사업화 시킬 수 있습니다.



38p

 서비스의 기대효과로는 ~~가 있습니다. 



—-—-—-part7. 발전방향 및 느낀점 —-—-—-

40p



41p



42p 